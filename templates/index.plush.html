

<div>
  <%= if (current_user) { %>
    <h1><%= current_user.Email %></h1>
    <a href="/auth/signout" data-method="DELETE">Sign Out</a>
  <% } else { %>
    <a href="/auth/signin" class="btn btn-primary">Sign In</a>
    <a href="/auth/users/new" class="btn btn-success">Register</a> |
    <a href="http://127.0.0.1:3000/auth/google">Google login</a> |
    <a href="http://127.0.0.1:3000/auth/github">Github login</a> |
  <% } %>
</div>
<div>
<%= if (current_user) {
    return(current_user.Email)
  }
%>
</div>


<div class="row">
  <div class="col-md-12">
    <div class="subtitle">
      <div class="container">
        <h3>Defined Routes</h3>
      </div>
    </div>
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr text-align="left">
            <th class="centered">METHOD</th>
            <th>PATH</th>
            <th>NAME</th>
            <th>HANDLER</th>
          </tr>
        </thead>
        <tbody>

          <%= for (r) in routes { %>
            <tr>
              <td class="centered">
                <%= r.Method %>
              </td>
              <td>
                <%= if (r.Method != "GET" || r.Path ~= "{") {
                  return r.Path
                } else {
                  return linkTo(r.Path, {body: r.Path})
                } %>
              </td>
              <td>
                <%= r.PathName %>
              </td>
              <td><code><%= r.HandlerName %></code></td>
            </tr>
          <% } %>

        </tbody>
      </table>
    </div>
  </div>
</div>

